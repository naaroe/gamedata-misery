[wpn_ak74u_snag]:wpn_ak74u ;identity_immunities,weapon_probability,default_weapon_params ;zaton b33

GroupControlSection     = spawn_group
$spawn			= "weapons\wpn_ak74u_snag"
$npc              	= on
$prefetch               = 8
scheduled               = off
cform                   = skeleton
class                	= WP_AK74
description		= st_wpn_ak74us_descr

ef_main_weapon_type     = 2
ef_weapon_type          = 6

default_to_ruck         = false
sprint_allowed          = true

;-------------------------------------------------------------------------------
cost              		= 26520            ; the price of the item
weapon_class            = assault_rifle      ; the type of the box that will be used in buy-menu in multiplayer mode
inv_weight				= 3.5								; weight in inventory

upgrades		= up_gr_firstab_ak74u, up_gr_seconab_ak74u, up_gr_thirdab_ak74u, up_gr_fourtab_ak74u, up_gr_fifthab_ak74u
installed_upgrades      = up_fiftha_ak74u
upgrade_scheme          = upgrade_scheme_ak74u
;-ТТХ---------------------------------------------------------------------------

hit_power            = 0.45, 0.45, 0.45, 0.45
hit_impulse          	= 33    ; size of physic impulse by bullet
hit_type            	= fire_wound            ; [] type of the wound
fire_distance           = 520    ; maximum fire distance that bullet can fly
bullet_speed            = 715    ; starting bullet speed
rpm                     = 650   ; max round per minute
rpm_empty_click         = 200

use_aim_bullet          = false
time_to_aim             = 1.0

hud                     = wpn_ak74u_snag_hud   	; name of the section of the hud

misfire_probability        = 0.005 ;вероятность осечки при максимальном износе  !!!old - now not working
;изношенность, при которой появляется шанс осечки
misfire_start_condition		= 0.6
;изношеность при которой шанс осечки становится константным
misfire_end_condition		= 0.1
;шанс осечки при изношености больше чем misfireStartCondition
misfire_start_prob	     	= 0.003
;шанс осечки при изношености больше чем misfireEndCondition
misfire_end_prob	     	= 0.047
;увеличение изношености при одиночном выстреле
condition_shot_dec      	= 0.0005
;увеличение изношености при выстреле очередью
condition_queue_shot_dec	= 0.0007

ammo_elapsed            	= 30	; obsolete
ammo_mag_size        		= 30	; clip (magazine) size
fire_modes           		= 1, -1

ammo_class           		= ammo_5.45x39_fmj, ammo_5.45x39_ap  ; name of the ltx-section of used ammo
grenade_class        		= ammo_vog-25	; name of the ltx-section of used grenades

launch_speed            	= 0
hand_dependence         	= 1
single_handed           	= 0

;---DOF-------------------------------------------------------------------------
zoom_dof             		= 0.5, 1.0, 180
reload_dof           		= 0.0, 0.5, 5, 2

;----Дисперсия---------------------------------------------------------------------------
fire_dispersion_base       = 0.42 ;0.19      ;угол (в градусах) базовой дисперсии оружия (оружия зажатого в тисках)
control_inertion_factor    = 1.08
crosshair_inertion		   = 5.10

;params of weapon recoil
cam_return				= 0 ;              		= 1
cam_relax_speed         		= 10
cam_relax_speed_ai     			= 120.75
cam_dispersion	         	= 1.1
cam_dispersion_inc         	= 0.7
cam_dispersion_frac     		= 1.1
cam_max_angle				= 50.0
cam_max_angle_horz      		= 5.0
cam_step_angle_horz     		= 1.5

zoom_cam_relax_speed         		= 10
zoom_cam_relax_speed_ai      		= 360
zoom_cam_dispersion          	= 0.9
zoom_cam_dispersion_inc      	= 0.45
zoom_cam_dispersion_frac     		= 0.7
zoom_cam_max_angle           		= 50.0
zoom_cam_max_angle_horz      		= 5.0
zoom_cam_step_angle_horz     		= 1.0
fire_dispersion_condition_factor = 0.001 ;	= 0.01 ; 10

PDM_disp_base 				= 0.75
PDM_disp_vel_factor 		= 2.4
PDM_disp_accel_factor 		= 2.4
PDM_disp_crouch	 			= 0.6
PDM_disp_crouch_no_acc 		= 0.4

;------- for AI ------------------------------------------------------------------------
holder_range_modifier   	= 1.0
holder_fov_modifier     	= 1.0

min_radius = 0 ;           		= 30           ; [] for AI
max_radius = 500 ; = 250 ;           		= 100          ; [] for AI

hit_probability_gd_novice = 1.00 ;  	= 0.80
hit_probability_gd_stalker = 1.00 ; 	= 0.80
hit_probability_gd_veteran = 1.00 ; 	= 0.80
hit_probability_gd_master = 1.00 ;  	= 0.80

;-------------------------------------------------------------------------------
slot                		= 2 ; // secondary
animation_slot      		= 8 ; type of the animation that will be used

inv_name          		= st_wpn_ak74us
inv_name_short      		= st_wpn_ak74us
inv_grid_width			= 4
inv_grid_height			= 2
inv_grid_x			= 5
inv_grid_y			= 32

upgr_icon_x			= 300
upgr_icon_y			= 129
upgr_icon_width			= 258
upgr_icon_height   		= 138

kill_msg_x			= 0
kill_msg_y			= 123
kill_msg_width			= 69
kill_msg_height			= 30

position           	= -0.026,0,-0.01        ; position (offset) and orientation of the weapon in the hands of character
orientation         = 0,0,0                  ; (3rd person view)

fire_point          =  0.0, 0.02, 0.447		; position (3rd person view) for particles of fire
fire_point2         =  0.0, 0.02, 0.547		; position (3rd person view) for particles of fire (when shooting with secondary fire)

;flame_particles         = weapons\generic_weapon05 ; particles for shooting effects
smoke_particles         = weapons\generic_shoot_00
grenade_flame_particles = weapons\generic_weapon01

shell_point		 		= 0.00, 0.262, 0.189			; position (3rd person view) for shell to throw out
shell_particles	 		= weapons\generic_shells	; name of the particles for shells

;--STRAP PARAMETERS-----------------------------------------------------------------
;под мишкой
strap_position         		= -0.18,-0.45,0.2	; position (offset) and orientation of the weapon when it is strapped
strap_orientation      		= -10,-5,10		; (3rd person view in degrees)
strap_bone0             	= bip01_spine2
strap_bone1             	= bip01_spine1

startup_ammo            	= 90
visual                  	= dynamics\weapons\wpn_ak74u_snag\wpn_ak74u_snag.ogf

light_disabled          	= false
light_color             	= 0.6,0.5,0.3
light_range             	= 5
light_var_color         	= 0.05
light_var_range         	= 0.5
light_time              	= 0.2

ph_mass                 	= 4

;addons
scope_status            	= 1 ; 0 - no addon
silencer_status         	= 2 ; 1 - permanent
grenade_launcher_status		= 0 ; 2 - attachable

scope_texture			= wpn_crosshair_snag
scope_name 			= wpn_addon_scope

zoom_enabled            	= true   ; (on,off)zoom mode (right mouse button)
zoom_rotate_time        	= 0.25
scope_zoom_factor       	= 40     ; fov for zoom mode

silencer_name           	= wpn_addon_silencer_545x39    ; section name for the attachable silencer
silencer_x 			= 178	; offset in inventory icon
silencer_y 			= -2

snd_draw                	= weapons\generic\eastern_draw
snd_holster             	= weapons\generic\generic_holster
snd_shoot               	= weapons\ak74u_snag\ak74u_shot
snd_empty               	= weapons\generic\rifle_historic_empty, 0.9
snd_reload              	= weapons\generic\type2_reload, 0.7
snd_shoot_grenade       	= weapons\gen_grenshoot
snd_reload_grenade      	= weapons\gen_grenload, 1.0, 0.8
snd_switch              	= weapons\groza_switch, 1.0, 0.5
snd_bore			= weapons\generic\eastern_bore, 0.7
snd_silncer_shot        	= weapons\silencers\silencer_545x39

;silencer_flame_particles	= weapons\generic_weapon01
silencer_smoke_particles	= weapons\generic_shoot_00

silencer_light_color    	= 0.6,0.5,0.3
silencer_light_range    	= 0.01
silencer_light_var_color	= 0.05
silencer_light_var_range	= 0.5
silencer_light_time     	= 0.2

[wpn_ak74u_snag_hud]
zoom_hide_crosshair		= true

attach_place_idx		= 0
item_visual			= dynamics\weapons\wpn_ak74u_snag\wpn_ak74u_snag_hud.ogf


hands_position			= -0.115000,-0.195999,0.145000
hands_orientation		= -2.649998,0.400000,-4.099998

hands_position_16x9		= -0.106500,-0.196000,0.092500
hands_orientation_16x9		= -0.400000,2.299999,-2.550000

item_position			= 0.004111,0.008527,-0.005906
item_orientation		= -15.488927,-3.320898,367.220154


shell_point                	= 0.018,0.06,0.188
shell_dir               	= 0.0, 1.0, 0.0
shell_bone                	= wpn_body

fire_point			= 0,0.048,0.466
fire_bone                       = wpn_body
fire_point2                     = 0.0,-0.011,0.553
fire_bone2                	= wpn_body

anm_show			= ak74u_draw
anm_hide			= ak74u_holster
anm_idle			= ak74u_idle
anm_idle_sprint			= ak74u_idle_sprint
anm_idle_moving			= ak74u_idle_moving
anm_shots			= ak74u_shoot
anm_reload			= ak74u_reload
anm_idle_aim			= ak74u_idle_aim
anm_bore			= ak74u_idle_bore


aim_hud_offset_pos		= -0.103000, 0.007000,-0.018000
aim_hud_offset_rot		= -0.045000,-0.032000, 0.002500

aim_hud_offset_pos_16x9		= -0.122000, 0.016700, 0.029000
aim_hud_offset_rot_16x9		= -0.013000, 0.009000, 0.005000

gl_hud_offset_pos               = 0,0,0	;-0.053000,-0.059000,0.000000
gl_hud_offset_rot               = 0,0,0	;-0.145000,0.000000,0.000000

gl_hud_offset_pos_16x9          = 0,0,0	;-0.130000,0.003500,0.000500
gl_hud_offset_rot_16x9          = 0,0,0	;0.052500,0.045000,-0.010000

lean_hud_offset_pos        	= 0,0,0
lean_hud_offset_rot        	= 0,0,0